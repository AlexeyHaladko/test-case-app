import{D as e,F as t,L as n,S as r,T as i,p as a,w as o}from"./mui-6TiAU9Pq.js";import{g as s,o as c,s as l}from"./vendor-xQZBn1hS.js";import{t as u}from"./tanstack-a0KEQ1Fg.js";import{s as d,t as f}from"./index-j4dQcPbk.js";import{t as p}from"./form-field-C0DSM4KJ.js";var m=n();let h=function(e){return e.username=`username`,e.password=`password`,e}({});const g=c({[h.username]:l().min(1,`Field is required`),[h.password]:l().min(8,`Field is required`)});var _=t();function v(){let{login:e}=d(),t=u({defaultValues:{[h.username]:`testuser`,[h.password]:`Test1234!`},onSubmit:({value:t})=>{e(t)},validators:{onChange:g}});return(0,_.jsx)(i,{sx:{maxWidth:400,mx:`auto`,mt:4,p:3,border:`1px solid #ccc`,borderRadius:2},children:(0,_.jsx)(`form`,{onSubmit:async e=>{e.preventDefault(),e.stopPropagation(),await t.handleSubmit()},children:(0,_.jsxs)(a,{spacing:2,children:[(0,_.jsx)(p,{form:t,name:h.username,label:`Username`}),(0,_.jsx)(p,{form:t,name:h.password,label:`Password`,type:`password`}),(0,_.jsx)(t.Subscribe,{selector:e=>[e.canSubmit,e.isSubmitting],children:([e,t])=>(0,_.jsx)(o,{type:`submit`,variant:`contained`,fullWidth:!0,disabled:!e,loading:t,children:`Login`})})]})})})}var y=v;function b(){let{isAuthenticated:t}=d(),n=s();return(0,m.useEffect)(()=>{t&&n(`/test-case-app/${f.DASHBOARD}`)},[t,n]),(0,_.jsx)(m.Suspense,{fallback:(0,_.jsx)(`div`,{children:`Loading...`}),children:(0,_.jsx)(r,{maxWidth:`sm`,children:(0,_.jsxs)(i,{sx:{marginTop:8,display:`flex`,flexDirection:`column`,alignItems:`center`},children:[(0,_.jsx)(e,{component:`h1`,variant:`h5`,gutterBottom:!0,children:`Sign in`}),(0,_.jsx)(y,{})]})})})}export{b as LoginPage};