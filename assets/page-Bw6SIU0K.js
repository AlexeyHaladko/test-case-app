import{H as e,M as t,W as n,h as r,j as i,k as a,v as o}from"./mui-HQRIiQPc.js";import{a as s,c,i as l,n as u,o as d,r as f,s as p,t as m}from"./vendor-tjROAhpm.js";import{t as h}from"./tanstack-BNeo0mD6.js";import{a as g,r as _}from"./index-CuD9hMxJ.js";import{t as v}from"./generated.schemas-CmnXDYcV.js";import{n as y,t as b}from"./form-field-Y9-nEQCU.js";var x=n();let S=function(e){return e.contact_method=`contact_method`,e.full_name=`full_name`,e.phone=`phone`,e.password=`password`,e.age=`age`,e.bio=`bio`,e.email=`email`,e.agree_terms=`agree_terms`,e.country=`country`,e.website=`website`,e}({});const C=d({[S.contact_method]:m(v),[S.full_name]:p().min(3,`Name must be at least 3 characters`),[S.password]:p().min(8,`Password should be at least 8 characters long`).regex(/[a-z]/,`Should contain at least one lowercase letter`).regex(/[A-Z]/,`Should contain at least one uppercase letter`).regex(/[0-9]/,`Should contain at least one digit`),[S.age]:s().int().min(1).max(150).optional(),[S.phone]:p().optional().or(l(``)).refine(e=>!e||/^([+]?[\s0-9]+)?(\d{3}|[(]?[0-9]+[)])?([-]?[\s]?[0-9])+$/.test(e),{message:`Invalid phone number format`}),[S.country]:p().optional(),[S.website]:c().optional().or(l(``)),[S.bio]:p().max(500).optional(),[S.email]:f(`Should be a valid email`),[S.agree_terms]:u().refine(e=>e,{message:`You must agree to terms and conditions`})}).superRefine((e,t)=>{(e[S.contact_method]===v.phone||e[S.contact_method]===v.both)&&!e[S.phone]&&t.addIssue({code:`custom`,message:`Phone is required`,path:[S.phone]})});var w=e(),T={[S.full_name]:``,[S.password]:``,[S.phone]:``,[S.age]:void 0,[S.website]:``,[S.country]:``,[S.bio]:``,[S.email]:``,[S.contact_method]:v.email,[S.agree_terms]:!1};function E(){let{showSnackbar:e}=_(),t=h({defaultValues:T,validators:{onChange:C},onSubmit:({value:e})=>{n(e)}}),{mutate:n}=g({onSuccess:()=>{t.reset(T),e(`Form submitted successfully!`,`success`)},onError:t=>{e(t.message||`An error occurred`,`error`)}});return(0,w.jsx)(w.Fragment,{children:(0,w.jsx)(`form`,{style:{display:`flex`,flexDirection:`column`,width:`100%`,alignItems:`center`},onSubmit:async e=>{e.preventDefault(),e.stopPropagation(),await t.handleSubmit()},children:(0,w.jsxs)(r,{spacing:2,sx:{width:`100%`,maxWidth:800},children:[(0,w.jsx)(b,{form:t,name:S.full_name,label:`Full Name`}),(0,w.jsx)(b,{form:t,name:S.email,label:`Email`,type:`email`}),(0,w.jsx)(b,{form:t,name:S.phone,label:`Phone`}),(0,w.jsx)(b,{form:t,name:S.website,label:`Website`,type:`url`}),(0,w.jsx)(b,{form:t,name:S.password,label:`Password`,type:`password`}),(0,w.jsx)(b,{form:t,name:S.age,label:`Age`,type:`number`}),(0,w.jsx)(b,{form:t,name:S.country,label:`Country`}),(0,w.jsx)(b,{form:t,name:S.bio,label:`Bio`,formFieldType:y.textarea}),(0,w.jsx)(b,{form:t,name:S.contact_method,label:`Contact Method`,formFieldType:y.select,children:Object.values(v).map(e=>(0,w.jsx)(o,{value:e,children:e},e))}),(0,w.jsx)(b,{form:t,name:S.agree_terms,label:`Agree Terms`,formFieldType:y.checkbox}),(0,w.jsx)(t.Subscribe,{selector:e=>[e.canSubmit,e.isSubmitting],children:([e,t])=>(0,w.jsx)(i,{type:`submit`,variant:`contained`,disabled:!e,loading:t,children:`Submit Form`})})]})})})}function D(){return(0,w.jsx)(x.Suspense,{fallback:(0,w.jsx)(`div`,{children:`Loading...`}),children:(0,w.jsx)(a,{maxWidth:`xl`,sx:{p:1},children:(0,w.jsx)(t,{sx:{display:`flex`,flexDirection:`column`,alignItems:`center`},children:(0,w.jsx)(E,{})})})})}export{D as FormPage};